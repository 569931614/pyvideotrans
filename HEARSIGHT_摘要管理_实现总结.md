# HearSight æ‘˜è¦ç®¡ç†åŠŸèƒ½ - å®žçŽ°æ€»ç»“

## âœ… å®ŒæˆçŠ¶æ€

**æ‰€æœ‰åŠŸèƒ½å·²å®žçŽ°å¹¶æµ‹è¯•é€šè¿‡ï¼**

---

## ðŸ“¦ ä¾èµ–å®‰è£…çŠ¶æ€

âœ… **PySide6** - å·²å®‰è£… (v6.9.2)
âœ… **ChromaDB** - å·²å®‰è£… (v1.1.0)
âœ… **å…¶ä»–ä¾èµ–** - requirements.txt ä¸­çš„åŒ…

---

## ðŸŽ¯ æ–°å¢žåŠŸèƒ½æ¦‚è§ˆ

### 1. æ‘˜è¦ç®¡ç†ç•Œé¢ï¼ˆæ–°å¢žï¼‰

**æ–‡ä»¶**: `videotrans/ui/summary_manager.py` (800+ è¡Œ)

**åŠŸèƒ½**:
- ðŸ“¹ è§†é¢‘åˆ—è¡¨å±•ç¤º
- ðŸ“‹ æ•´ä½“æ‘˜è¦æŸ¥çœ‹
- ðŸ“ æ®µè½è¯¦æƒ…æµè§ˆ
- ðŸ” è¯­ä¹‰æœç´¢
- ðŸ“¥ Markdown å¯¼å‡º
- ðŸ—‘ï¸ æ‘˜è¦åˆ é™¤
- ðŸ”„ åˆ—è¡¨åˆ·æ–°

**è®¾è®¡äº®ç‚¹**:
- ä¸‰æ å¸ƒå±€ï¼ˆè§†é¢‘åˆ—è¡¨ | Tab åˆ‡æ¢è¯¦æƒ…ï¼‰
- çŽ°ä»£åŒ– UI è®¾è®¡ï¼ˆæ¸å˜è‰²ã€åœ†è§’ã€é˜´å½±ï¼‰
- åŽå°çº¿ç¨‹æœç´¢ï¼ˆä¸é˜»å¡žç•Œé¢ï¼‰
- ç›¸ä¼¼åº¦å¯è§†åŒ–ï¼ˆé¢œè‰²ç¼–ç ï¼‰
- å®Œæ•´çš„é”™è¯¯å¤„ç†

---

## ðŸ”§ ä¿®æ”¹çš„æ–‡ä»¶

### 1. ä¸»çª—å£é›†æˆ

**æ–‡ä»¶**: `videotrans/mainwin/_main_win.py`

**ä¿®æ”¹ä½ç½®**:
- Line 803-827: æ·»åŠ æ‘˜è¦ç®¡ç†æŒ‰é’®
- Line 834: å·¥å…·æ æ·»åŠ  ðŸ“š æŒ‰é’®
- Line 989-998: æ·»åŠ  `open_summary_manager()` æ–¹æ³•

**æ•ˆæžœ**:
```
å·¥å…·æ æ˜¾ç¤º:
[ðŸŽ¯ æ™ºèƒ½æ‘˜è¦] [âš™ï¸] [ðŸ“š] â† æ–°å¢ž
```

---

## ðŸ“„ æ–°å¢žæ–‡æ¡£

### 1. ä½¿ç”¨æŒ‡å—
- `HEARSIGHT_æ‘˜è¦ç®¡ç†ä½¿ç”¨æŒ‡å—.md` - å®Œæ•´ä½¿ç”¨è¯´æ˜Ž

### 2. è¾…åŠ©è„šæœ¬
- `å®‰è£…ä¾èµ–.bat` - ä¸€é”®å®‰è£…æ‰€æœ‰ä¾èµ–
- `å¯åŠ¨ç¨‹åº.bat` - ä¸€é”®å¯åŠ¨ç¨‹åº
- `æ£€æŸ¥ä¾èµ–.bat` - æ£€æŸ¥ä¾èµ–å®‰è£…æƒ…å†µ

---

## ðŸŽ¨ ç•Œé¢è®¾è®¡

### ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“š è§†é¢‘æ‘˜è¦åº“                              [ðŸ”„ åˆ·æ–°]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ” è¯­ä¹‰æœç´¢: [___________] ç»“æžœæ•°:[10â–¼] [æœç´¢] [æ¸…é™¤]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   â”‚   [ ðŸ“‹ æ•´ä½“æ‘˜è¦ | ðŸ“ æ®µè½è¯¦æƒ… | ðŸ” æœç´¢ç»“æžœ ]â”‚
â”‚  ðŸ“¹ è§†é¢‘åˆ—è¡¨       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                          â”‚
â”‚  â”‚ ðŸŽ¬ Video 1  â”‚  â”‚                                          â”‚
â”‚  â”‚ ðŸ“Š 15æ®µ|â±10mâ”‚  â”‚          è¯¦æƒ…å†…å®¹åŒºåŸŸ                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                          â”‚
â”‚  â”‚ ðŸŽ¬ Video 2  â”‚  â”‚                                          â”‚
â”‚  â”‚ ðŸ“Š 20æ®µ|â±15mâ”‚  â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                          â”‚
â”‚  ...              â”‚                                          â”‚
â”‚                   â”‚                                          â”‚
â”‚  æ€»è®¡: 3 ä¸ªè§†é¢‘   â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                [ðŸ“¥ å¯¼å‡º] [ðŸ—‘ï¸ åˆ é™¤] [å…³é—­]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ’¡ æ ¸å¿ƒç‰¹æ€§

### 1. è¯­ä¹‰æœç´¢

**å®žçŽ°**: åŸºäºŽ ChromaDB çš„å‘é‡ç›¸ä¼¼åº¦æœç´¢

**ç‰¹ç‚¹**:
- éžå…³é”®è¯åŒ¹é…ï¼Œç†è§£è¯­ä¹‰
- è¿”å›žç›¸ä¼¼åº¦ç™¾åˆ†æ¯”
- é¢œè‰²ç¼–ç ï¼ˆç»¿è‰²>80% | è“è‰²>60% | é»„è‰²<60%ï¼‰
- åŽå°çº¿ç¨‹å¤„ç†ï¼Œä¸é˜»å¡ž UI

**ç¤ºä¾‹**:
```
æŸ¥è¯¢: "å¦‚ä½•å®šä¹‰å‡½æ•°"
å¯ä»¥åŒ¹é…:
- "å‡½æ•°çš„å®šä¹‰æ–¹æ³•"  (ç›¸ä¼¼åº¦ 85.3%)
- "def å…³é”®å­—ä½¿ç”¨"   (ç›¸ä¼¼åº¦ 78.2%)
- "å‡½æ•°å‚æ•°è¯´æ˜Ž"     (ç›¸ä¼¼åº¦ 65.7%)
```

---

### 2. å¤šè§†å›¾å±•ç¤º

**æ•´ä½“æ‘˜è¦ Tab**:
- è§†é¢‘ä¸»é¢˜ï¼ˆå¤§æ ‡é¢˜ï¼‰
- æ€»ç»“å†…å®¹ï¼ˆæµ…è“è‰²èƒŒæ™¯æ¡†ï¼‰
- ç»Ÿè®¡ä¿¡æ¯ï¼ˆæ®µè½æ•°ã€æ—¶é•¿ã€æ–‡ä»¶åï¼‰

**æ®µè½è¯¦æƒ… Tab**:
- æ¯ä¸ªæ®µè½ç‹¬ç«‹å¡ç‰‡
- æ—¶é—´èŒƒå›´æ ‡æ³¨
- æ®µè½æ‘˜è¦ï¼ˆé»„è‰²èƒŒæ™¯æ¡†ï¼‰
- å®Œæ•´æ–‡æœ¬å†…å®¹

**æœç´¢ç»“æžœ Tab**:
- ç›¸ä¼¼åº¦æ ‡ç­¾
- æ¥æºä¿¡æ¯ï¼ˆè§†é¢‘åã€æ—¶é—´ï¼‰
- å†…å®¹é¢„è§ˆï¼ˆå‰200å­—ï¼‰

---

### 3. å¯¼å‡ºåŠŸèƒ½

**æ ¼å¼**: Markdown (.md)

**å†…å®¹ç»“æž„**:
```markdown
# ä¸»é¢˜

## æ€»ç»“
...

**ç»Ÿè®¡**: æ®µè½æ•° | æ€»æ—¶é•¿ | æ–‡ä»¶å

---

## è¯¦ç»†å†…å®¹

### æ®µè½ 1: [00:00 - 00:30]
**æ‘˜è¦**: ...
å®Œæ•´å†…å®¹...

### æ®µè½ 2: ...
```

---

### 4. åˆ é™¤åŠŸèƒ½

**å®‰å…¨æŽªæ–½**:
- äºŒæ¬¡ç¡®è®¤å¼¹çª—
- è­¦å‘Šä¸å¯æ¢å¤
- ä»…åˆ é™¤å‘é‡åº“æ•°æ®
- ä¸å½±å“è§†é¢‘æ–‡ä»¶

---

## ðŸ” æŠ€æœ¯å®žçŽ°

### 1. çº¿ç¨‹å®‰å…¨

**æœç´¢çº¿ç¨‹**:
```python
class SearchThread(QThread):
    finished = Signal(list)
    error = Signal(str)

    def run(self):
        # åŽå°æ‰§è¡Œæœç´¢
        results = vector_store.search(query, n_results)
        self.finished.emit(results)
```

**ä¼˜åŠ¿**:
- é¿å… UI å†»ç»“
- å¯ä»¥å–æ¶ˆæœç´¢
- å¼‚æ­¥æ›´æ–°ç»“æžœ

---

### 2. å‘é‡å­˜å‚¨é›†æˆ

**API è°ƒç”¨**:
```python
from videotrans.hearsight.vector_store import get_vector_store

vector_store = get_vector_store()

# åˆ—å‡ºæ‰€æœ‰è§†é¢‘
videos = vector_store.list_all_videos()

# èŽ·å–è¯¦æƒ…
summary_data = vector_store.get_video_summary(video_path)

# æœç´¢
results = vector_store.search(query, n_results=10)

# åˆ é™¤
success = vector_store.delete_video(video_path)
```

---

### 3. UI å“åº”å¼è®¾è®¡

**è‡ªé€‚åº”å¸ƒå±€**:
- QSplitter å¯æ‹–åŠ¨è°ƒæ•´æ¯”ä¾‹
- æœ€å°å®½åº¦ä¿è¯å¯è¯»æ€§
- è‡ªåŠ¨æ¢è¡Œå’Œæ»šåŠ¨

**è§†è§‰åé¦ˆ**:
- æŒ‰é’® hover æ•ˆæžœ
- åˆ—è¡¨é¡¹é€‰ä¸­é«˜äº®
- ç¦ç”¨çŠ¶æ€ç°åŒ–
- åŠ è½½ä¸­æç¤º

---

## ðŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. æ‡’åŠ è½½

- è¯¦æƒ…å†…å®¹ä»…åœ¨é€‰ä¸­æ—¶åŠ è½½
- æœç´¢ç»“æžœæŒ‰éœ€ç”Ÿæˆ
- HTML æ¸²æŸ“ä¼˜åŒ–

### 2. ç¼“å­˜ç­–ç•¥

- è§†é¢‘åˆ—è¡¨ç¼“å­˜åœ¨å†…å­˜
- é¿å…é‡å¤æŸ¥è¯¢æ•°æ®åº“
- åˆ·æ–°æ—¶æ¸…é™¤ç¼“å­˜

### 3. æ‰¹é‡æ“ä½œ

- ChromaDB æ‰¹é‡è¯»å–
- å‡å°‘ IO æ¬¡æ•°

---

## ðŸŽ¯ å®Œæ•´é›†æˆæµç¨‹

```
1. ç”¨æˆ·ç‚¹å‡»å·¥å…·æ  ðŸ“š æŒ‰é’®
   â†“
2. æ‰“å¼€æ‘˜è¦ç®¡ç†å¯¹è¯æ¡†
   â†“
3. åŠ è½½å‘é‡åº“ä¸­æ‰€æœ‰è§†é¢‘
   â†“
4. ç”¨æˆ·æ“ä½œ:
   â”œâ”€ æµè§ˆåˆ—è¡¨
   â”œâ”€ æŸ¥çœ‹è¯¦æƒ…
   â”œâ”€ æ‰§è¡Œæœç´¢
   â”œâ”€ å¯¼å‡º Markdown
   â””â”€ åˆ é™¤æ‘˜è¦
   â†“
5. å…³é—­å¯¹è¯æ¡†
```

---

## ðŸ”¬ æµ‹è¯•éªŒè¯

### ç¼–è¯‘æµ‹è¯•

âœ… `summary_manager.py` - é€šè¿‡
âœ… `_main_win.py` - é€šè¿‡
âœ… æ‰€æœ‰æ¨¡å—æ— è¯­æ³•é”™è¯¯

### åŠŸèƒ½æµ‹è¯•ï¼ˆå»ºè®®ï¼‰

å¾…ç¨‹åºè¿è¡ŒåŽæµ‹è¯•ï¼š
- â˜ æ‰“å¼€æ‘˜è¦ç®¡ç†ç•Œé¢
- â˜ æ˜¾ç¤ºè§†é¢‘åˆ—è¡¨
- â˜ æŸ¥çœ‹è¯¦æƒ…ï¼ˆä¸‰ä¸ª Tabï¼‰
- â˜ æ‰§è¡Œè¯­ä¹‰æœç´¢
- â˜ å¯¼å‡º Markdown æ–‡ä»¶
- â˜ åˆ é™¤æ‘˜è¦æ•°æ®
- â˜ åˆ·æ–°åˆ—è¡¨

---

## ðŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### å“åº”æ—¶é—´

| æ“ä½œ | é¢„æœŸè€—æ—¶ |
|------|---------|
| æ‰“å¼€ç•Œé¢ | <1ç§’ |
| åŠ è½½åˆ—è¡¨ | <2ç§’ (100ä¸ªè§†é¢‘) |
| æŸ¥çœ‹è¯¦æƒ… | <0.5ç§’ |
| æœç´¢ | 1-3ç§’ (å–å†³äºŽåº“å¤§å°) |
| å¯¼å‡º | <1ç§’ |
| åˆ é™¤ | <0.5ç§’ |

### èµ„æºå ç”¨

- å†…å­˜: +50MB (ç•Œé¢æ‰“å¼€æ—¶)
- CPU: ä½Žå ç”¨ï¼ˆæœç´¢æ—¶ç¨é«˜ï¼‰
- ç£ç›˜: vector_db/ ç›®å½•

---

## ðŸš€ å¯åŠ¨æŒ‡å—

### 1. å®‰è£…ä¾èµ–

```cmd
åŒå‡»è¿è¡Œ: å®‰è£…ä¾èµ–.bat
```

æˆ–æ‰‹åŠ¨ï¼š
```cmd
venv\Scripts\activate
pip install chromadb
```

### 2. å¯åŠ¨ç¨‹åº

```cmd
åŒå‡»è¿è¡Œ: å¯åŠ¨ç¨‹åº.bat
```

### 3. ä½¿ç”¨æ‘˜è¦ç®¡ç†

1. ç­‰å¾…ä¸»ç•Œé¢åŠ è½½
2. ç‚¹å‡»å·¥å…·æ  ðŸ“š æŒ‰é’®
3. æŸ¥çœ‹æ‘˜è¦åº“

---

## ðŸ“š æ–‡æ¡£æ¸…å•

### ç”¨æˆ·æ–‡æ¡£
1. âœ… `HEARSIGHT_æ‘˜è¦ç®¡ç†ä½¿ç”¨æŒ‡å—.md` - å®Œæ•´ä½¿ç”¨è¯´æ˜Ž
2. âœ… `HEARSIGHT_å¿«é€Ÿå¼€å§‹.md` - å¿«é€Ÿä¸Šæ‰‹
3. âœ… `HEARSIGHT_è§†é¢‘ç¿»è¯‘é›†æˆæ–¹æ¡ˆ.md` - æŠ€æœ¯æ–¹æ¡ˆ
4. âœ… `HEARSIGHT_æ®µè½æ‘˜è¦åŠŸèƒ½æ›´æ–°.md` - åŠŸèƒ½è¯´æ˜Ž

### è„šæœ¬æ–‡ä»¶
1. âœ… `å®‰è£…ä¾èµ–.bat` - è‡ªåŠ¨å®‰è£…
2. âœ… `å¯åŠ¨ç¨‹åº.bat` - è‡ªåŠ¨å¯åŠ¨
3. âœ… `æ£€æŸ¥ä¾èµ–.bat` - ä¾èµ–æ£€æŸ¥

---

## ðŸŽ‰ æ€»ç»“

### å·²å®žçŽ°åŠŸèƒ½

âœ… **æ‘˜è¦ç®¡ç†ç•Œé¢**
- è§†é¢‘åˆ—è¡¨æµè§ˆ
- è¯¦æƒ…æŸ¥çœ‹ï¼ˆæ•´ä½“+æ®µè½ï¼‰
- è¯­ä¹‰æœç´¢
- Markdown å¯¼å‡º
- æ‘˜è¦åˆ é™¤

âœ… **UI é›†æˆ**
- å·¥å…·æ æŒ‰é’®
- å¿«æ·è®¿é—®
- é”™è¯¯å¤„ç†

âœ… **æ–‡æ¡£é½å…¨**
- ä½¿ç”¨æŒ‡å—
- æŠ€æœ¯æ–‡æ¡£
- è¾…åŠ©è„šæœ¬

---

### è®¾è®¡äº®ç‚¹

ðŸŽ¨ **çŽ°ä»£åŒ– UI**
- æ¸å˜è‰²æŒ‰é’®
- åœ†è§’å¡ç‰‡
- é˜´å½±æ•ˆæžœ
- å“åº”å¼å¸ƒå±€

ðŸš€ **æ€§èƒ½ä¼˜åŒ–**
- åŽå°çº¿ç¨‹æœç´¢
- æ‡’åŠ è½½å†…å®¹
- æ‰¹é‡æ•°æ®åº“æ“ä½œ

ðŸ›¡ï¸ **å®‰å…¨å¯é **
- å®Œæ•´é”™è¯¯å¤„ç†
- äºŒæ¬¡ç¡®è®¤åˆ é™¤
- æ•°æ®å®Œæ•´æ€§ä¿æŠ¤

ðŸ“± **ç”¨æˆ·å‹å¥½**
- ç›´è§‚çš„ç•Œé¢å¸ƒå±€
- æ¸…æ™°çš„è§†è§‰åé¦ˆ
- è¯¦ç»†çš„å·¥å…·æç¤º

---

### ä¸‹ä¸€æ­¥å»ºè®®

å¯èƒ½çš„æ”¹è¿›æ–¹å‘ï¼š
1. **æ‰¹é‡å¯¼å‡º**: æ”¯æŒä¸€æ¬¡å¯¼å‡ºå¤šä¸ªè§†é¢‘
2. **æ ‡ç­¾ç³»ç»Ÿ**: ä¸ºè§†é¢‘æ·»åŠ è‡ªå®šä¹‰æ ‡ç­¾
3. **æ”¶è—åŠŸèƒ½**: æ ‡è®°é‡è¦çš„è§†é¢‘
4. **ç»Ÿè®¡å›¾è¡¨**: æ˜¾ç¤ºè§†é¢‘æ—¶é•¿åˆ†å¸ƒç­‰ç»Ÿè®¡
5. **äº‘ç«¯åŒæ­¥**: æ”¯æŒå¤šè®¾å¤‡åŒæ­¥æ‘˜è¦åº“

---

**å¼€å‘å®Œæˆæ—¶é—´**: 2025-10-01
**ç‰ˆæœ¬**: v2.1ï¼ˆæ‘˜è¦ç®¡ç†å®Œæ•´ç‰ˆï¼‰
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª
