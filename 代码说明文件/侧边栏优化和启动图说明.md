# ä¾§è¾¹æ ä¼˜åŒ–å’Œå¯åŠ¨å›¾è¯´æ˜

## ğŸ“ å¯åŠ¨å›¾ä½ç½®

### å½“å‰å¯åŠ¨å›¾æ–‡ä»¶

**ä½ç½®**: `videotrans/styles/logo.png`

**ä½¿ç”¨ä½ç½®**: `sp.py` ç¬¬40è¡Œ
```python
self.pixmap = QPixmap("./videotrans/styles/logo.png")
```

**å½“å‰é…ç½®**:
- å°ºå¯¸: 560x350 åƒç´ 
- æ ¼å¼: PNG
- æ˜¾ç¤ºæ–‡å­—: "BDvideoTrans {VERSION} Loading..."
- æ ·å¼: æ— è¾¹æ¡†ã€é€æ˜èƒŒæ™¯ã€å±…ä¸­æ˜¾ç¤º

### å¦‚ä½•æ›´æ¢å¯åŠ¨å›¾

1. **å‡†å¤‡æ–°çš„å¯åŠ¨å›¾**:
   - æ¨èå°ºå¯¸: 560x350 åƒç´ ï¼ˆæˆ–ä¿æŒ16:9æ¯”ä¾‹ï¼‰
   - æ ¼å¼: PNGï¼ˆæ”¯æŒé€æ˜èƒŒæ™¯ï¼‰
   - å»ºè®®: æ·±è‰²èƒŒæ™¯ï¼Œç™½è‰²æ–‡å­—åŒºåŸŸ

2. **æ›¿æ¢æ–‡ä»¶**:
   ```bash
   # å¤‡ä»½åŸæ–‡ä»¶
   cp videotrans/styles/logo.png videotrans/styles/logo_backup.png
   
   # æ›¿æ¢ä¸ºæ–°æ–‡ä»¶
   cp your_new_logo.png videotrans/styles/logo.png
   ```

3. **ä¿®æ”¹å¯åŠ¨æ–‡å­—**ï¼ˆå¯é€‰ï¼‰:
   ç¼–è¾‘ `sp.py` ç¬¬51è¡Œï¼š
   ```python
   self.status_label = QLabel(f"æ‚¨çš„åº”ç”¨åç§° {VERSION} åŠ è½½ä¸­...")
   ```

---

## ğŸ¨ ä¾§è¾¹æ å¸ƒå±€ä¼˜åŒ–æ–¹æ¡ˆ

### å½“å‰é—®é¢˜åˆ†æ

æ ¹æ®æ‚¨çš„æˆªå›¾ï¼Œå½“å‰ç•Œé¢å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

1. **å·¦ä¾§ä¾§è¾¹æ è¿‡äºæ‹¥æŒ¤**
   - "æ™ºèƒ½æ‘˜è¦"æŒ‰é’®
   - "HTML UI"æŒ‰é’®
   - å…¶ä»–åŠŸèƒ½æŒ‰é’®
   - ç¼ºå°‘è§†è§‰å±‚æ¬¡å’Œåˆ†ç»„

2. **æŒ‰é’®æ ·å¼ä¸ç»Ÿä¸€**
   - æœ‰äº›æŒ‰é’®æœ‰å›¾æ ‡ï¼Œæœ‰äº›æ²¡æœ‰
   - é¢œè‰²å’Œå¤§å°ä¸ä¸€è‡´
   - ç¼ºå°‘hoveræ•ˆæœ

3. **ç©ºé—´åˆ©ç”¨ä¸åˆç†**
   - æŒ‰é’®ä¹‹é—´é—´è·ä¸å‡åŒ€
   - æ²¡æœ‰æ˜ç¡®çš„åŠŸèƒ½åˆ†ç»„

### ä¼˜åŒ–æ–¹æ¡ˆ

#### æ–¹æ¡ˆ1: å‚ç›´ä¾§è¾¹æ ï¼ˆæ¨èï¼‰

**ç‰¹ç‚¹**: 
- æ¸…æ™°çš„åŠŸèƒ½åˆ†ç»„
- å›¾æ ‡+æ–‡å­—çš„ç»„åˆ
- ç°ä»£åŒ–çš„å¡ç‰‡å¼è®¾è®¡

**å¸ƒå±€ç»“æ„**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“š æ™ºèƒ½æ‘˜è¦     â”‚  â† ä¸»è¦åŠŸèƒ½åŒº
â”‚  ğŸ¯ HearSight   â”‚
â”‚  âš™ï¸  é…ç½®        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŒ HTML UI     â”‚  â† ç•Œé¢åˆ‡æ¢åŒº
â”‚  ğŸ“‹ åŸå§‹ç•Œé¢     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ æ–‡ä»¶ç®¡ç†     â”‚  â† å·¥å…·åŒº
â”‚  âš™ï¸  è®¾ç½®        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ–¹æ¡ˆ2: é¡¶éƒ¨å·¥å…·æ ï¼ˆå½“å‰æ–¹æ¡ˆä¼˜åŒ–ï¼‰

**ç‰¹ç‚¹**:
- ä¿æŒå½“å‰çš„å·¥å…·æ å¸ƒå±€
- ä¼˜åŒ–æŒ‰é’®æ ·å¼å’Œé—´è·
- æ·»åŠ åˆ†éš”ç¬¦å’Œåˆ†ç»„

**å¸ƒå±€ç»“æ„**:
```
[ğŸ¯ æ™ºèƒ½æ‘˜è¦] [âš™ï¸] [ğŸ“š] | [ğŸŒ HTML UI] | [å…¶ä»–å·¥å…·...]
    â†‘ æ™ºèƒ½æ‘˜è¦ç»„      â†‘ ç•Œé¢åˆ‡æ¢    â†‘ å…¶ä»–åŠŸèƒ½
```

---

## ğŸ”§ å®ç°æ–¹æ¡ˆ1: å‚ç›´ä¾§è¾¹æ 

### 1. åˆ›å»ºä¾§è¾¹æ ç»„ä»¶

åˆ›å»ºæ–°æ–‡ä»¶ `videotrans/ui/sidebar.py`:

```python
from PySide6.QtWidgets import (
    QWidget, QVBoxLayout, QPushButton, QLabel, QFrame
)
from PySide6.QtCore import Qt, Signal
from PySide6.QtGui import QIcon


class SidebarButton(QPushButton):
    """ä¾§è¾¹æ æŒ‰é’®ç»„ä»¶"""
    
    def __init__(self, icon, text, tooltip="", parent=None):
        super().__init__(parent)
        self.setText(f"{icon}  {text}")
        self.setToolTip(tooltip)
        self.setCursor(Qt.PointingHandCursor)
        self.setStyleSheet("""
            QPushButton {
                background: transparent;
                color: #e8eef7;
                border: none;
                border-radius: 8px;
                padding: 12px 16px;
                text-align: left;
                font-size: 14px;
                font-weight: 500;
            }
            QPushButton:hover {
                background: rgba(99, 102, 241, 0.1);
                color: #6366f1;
            }
            QPushButton:pressed {
                background: rgba(99, 102, 241, 0.2);
            }
        """)


class SidebarSeparator(QFrame):
    """ä¾§è¾¹æ åˆ†éš”çº¿"""
    
    def __init__(self, parent=None):
        super().__init__(parent)
        self.setFrameShape(QFrame.HLine)
        self.setStyleSheet("""
            QFrame {
                background: rgba(255, 255, 255, 0.1);
                max-height: 1px;
                margin: 8px 12px;
            }
        """)


class Sidebar(QWidget):
    """ä¸»ä¾§è¾¹æ ç»„ä»¶"""
    
    # ä¿¡å·
    hearsight_clicked = Signal()
    config_clicked = Signal()
    summary_clicked = Signal()
    html_ui_clicked = Signal()
    settings_clicked = Signal()
    
    def __init__(self, parent=None):
        super().__init__(parent)
        self.init_ui()
    
    def init_ui(self):
        """åˆå§‹åŒ–UI"""
        layout = QVBoxLayout(self)
        layout.setContentsMargins(0, 0, 0, 0)
        layout.setSpacing(4)
        
        # æ ‡é¢˜
        title = QLabel("åŠŸèƒ½èœå•")
        title.setStyleSheet("""
            QLabel {
                color: #a0abc0;
                font-size: 12px;
                font-weight: 600;
                padding: 16px 16px 8px 16px;
                text-transform: uppercase;
                letter-spacing: 1px;
            }
        """)
        layout.addWidget(title)
        
        # æ™ºèƒ½æ‘˜è¦ç»„
        self.hearsight_btn = SidebarButton(
            "ğŸ¯", "æ™ºèƒ½æ‘˜è¦",
            "åŸºäºWhisperè¯†åˆ«ç»“æœç”Ÿæˆæ™ºèƒ½æ®µè½åˆ’åˆ†å’ŒLLMæ‘˜è¦"
        )
        self.hearsight_btn.clicked.connect(self.hearsight_clicked.emit)
        layout.addWidget(self.hearsight_btn)
        
        self.config_btn = SidebarButton(
            "âš™ï¸", "æ‘˜è¦é…ç½®",
            "é…ç½®HearSightå‚æ•°"
        )
        self.config_btn.clicked.connect(self.config_clicked.emit)
        layout.addWidget(self.config_btn)
        
        self.summary_btn = SidebarButton(
            "ğŸ“š", "æ‘˜è¦ç®¡ç†",
            "æŸ¥çœ‹å’Œç®¡ç†è§†é¢‘æ‘˜è¦åº“"
        )
        self.summary_btn.clicked.connect(self.summary_clicked.emit)
        layout.addWidget(self.summary_btn)
        
        # åˆ†éš”çº¿
        layout.addWidget(SidebarSeparator())
        
        # ç•Œé¢åˆ‡æ¢ç»„
        interface_title = QLabel("ç•Œé¢")
        interface_title.setStyleSheet(title.styleSheet())
        layout.addWidget(interface_title)
        
        self.html_ui_btn = SidebarButton(
            "ğŸŒ", "HTML UI",
            "åˆ‡æ¢åˆ°ç°ä»£åŒ–HTMLç•Œé¢"
        )
        self.html_ui_btn.clicked.connect(self.html_ui_clicked.emit)
        self.html_ui_btn.setCheckable(True)
        layout.addWidget(self.html_ui_btn)
        
        # åˆ†éš”çº¿
        layout.addWidget(SidebarSeparator())
        
        # å·¥å…·ç»„
        tools_title = QLabel("å·¥å…·")
        tools_title.setStyleSheet(title.styleSheet())
        layout.addWidget(tools_title)
        
        self.settings_btn = SidebarButton(
            "âš™ï¸", "è®¾ç½®",
            "åº”ç”¨è®¾ç½®"
        )
        self.settings_btn.clicked.connect(self.settings_clicked.emit)
        layout.addWidget(self.settings_btn)
        
        # åº•éƒ¨å¼¹ç°§
        layout.addStretch()
        
        # è®¾ç½®ä¾§è¾¹æ æ ·å¼
        self.setStyleSheet("""
            Sidebar {
                background: #0f1419;
                border-right: 1px solid rgba(255, 255, 255, 0.1);
                min-width: 200px;
                max-width: 200px;
            }
        """)
```

### 2. é›†æˆåˆ°ä¸»çª—å£

ä¿®æ”¹ `videotrans/mainwin/_main_win.py`:

```python
def initUI(self):
    # ... ç°æœ‰ä»£ç  ...
    
    # åˆ›å»ºä¾§è¾¹æ ï¼ˆå¦‚æœéœ€è¦ï¼‰
    if config.settings.get('use_sidebar', False):
        self._create_sidebar()

def _create_sidebar(self):
    """åˆ›å»ºä¾§è¾¹æ """
    from videotrans.ui.sidebar import Sidebar
    
    # åˆ›å»ºä¾§è¾¹æ 
    self.sidebar = Sidebar(self)
    
    # è¿æ¥ä¿¡å·
    self.sidebar.hearsight_clicked.connect(self.open_hearsight)
    self.sidebar.config_clicked.connect(self.open_hearsight_config)
    self.sidebar.summary_clicked.connect(self.open_summary_manager)
    self.sidebar.html_ui_clicked.connect(self._toggle_html_ui)
    self.sidebar.settings_clicked.connect(self.open_settings)
    
    # æ·»åŠ åˆ°ä¸»å¸ƒå±€
    # éœ€è¦é‡æ–°ç»„ç»‡ä¸»çª—å£å¸ƒå±€
    main_widget = QWidget()
    main_layout = QHBoxLayout(main_widget)
    main_layout.setContentsMargins(0, 0, 0, 0)
    main_layout.setSpacing(0)
    
    # æ·»åŠ ä¾§è¾¹æ 
    main_layout.addWidget(self.sidebar)
    
    # æ·»åŠ åŸæœ‰çš„ä¸­å¤®éƒ¨ä»¶
    main_layout.addWidget(self.centralwidget)
    
    # æ›¿æ¢ä¸­å¤®éƒ¨ä»¶
    self.setCentralWidget(main_widget)
```

---

## ğŸ”§ å®ç°æ–¹æ¡ˆ2: ä¼˜åŒ–å½“å‰å·¥å…·æ 

### ä¿®æ”¹ `videotrans/mainwin/_main_win.py`

åœ¨ `_init_hearsight()` æ–¹æ³•ä¸­ä¼˜åŒ–æŒ‰é’®æ ·å¼ï¼š

```python
def _init_hearsight(self):
    """åˆå§‹åŒ–HearSight"""
    try:
        # ... ç°æœ‰ä»£ç  ...
        
        # ç»Ÿä¸€çš„æŒ‰é’®æ ·å¼
        button_style = """
            QPushButton {
                background: qlineargradient(x1:0, y1:0, x2:0, y2:1,
                    stop:0 {color1}, stop:1 {color2});
                color: white;
                border: none;
                border-radius: 8px;
                font-size: 16px;
                min-width: 42px;
                min-height: 42px;
                max-width: 42px;
                max-height: 42px;
            }
            QPushButton:hover {
                background: qlineargradient(x1:0, y1:0, x2:0, y2:1,
                    stop:0 {hover1}, stop:1 {hover2});
            }
            QPushButton:pressed {
                background: qlineargradient(x1:0, y1:0, x2:0, y2:1,
                    stop:0 {press1}, stop:1 {press2});
            }
        """
        
        # HearSightæŒ‰é’® - ç»¿è‰²
        self.hearsight_btn = QPushButton("ğŸ¯")
        self.hearsight_btn.setToolTip("æ™ºèƒ½æ‘˜è¦\nåŸºäºWhisperè¯†åˆ«ç»“æœç”Ÿæˆæ™ºèƒ½æ®µè½åˆ’åˆ†å’ŒLLMæ‘˜è¦")
        self.hearsight_btn.setStyleSheet(button_style.format(
            color1="#28a745", color2="#218838",
            hover1="#34b752", hover2="#28a745",
            press1="#1e7e34", press2="#1a6e2e"
        ))
        self.hearsight_btn.clicked.connect(self.open_hearsight)
        self.hearsight_btn.setCursor(Qt.PointingHandCursor)
        
        # é…ç½®æŒ‰é’® - ç°è‰²
        self.hearsight_config_btn = QPushButton("âš™ï¸")
        self.hearsight_config_btn.setToolTip("HearSighté…ç½®")
        self.hearsight_config_btn.setStyleSheet(button_style.format(
            color1="#7c8a99", color2="#6c757d",
            hover1="#8a98a7", hover2="#7a8290",
            press1="#5a6268", press2="#4a5258"
        ))
        self.hearsight_config_btn.clicked.connect(self.open_hearsight_config)
        self.hearsight_config_btn.setCursor(Qt.PointingHandCursor)
        
        # æ‘˜è¦ç®¡ç†æŒ‰é’® - è“è‰²
        self.summary_manager_btn = QPushButton("ğŸ“š")
        self.summary_manager_btn.setToolTip("æ‘˜è¦ç®¡ç†\næŸ¥çœ‹å’Œç®¡ç†è§†é¢‘æ‘˜è¦åº“")
        self.summary_manager_btn.setStyleSheet(button_style.format(
            color1="#5aa9ff", color2="#4a9eff",
            hover1="#6ab9ff", hover2="#5aa9ff",
            press1="#3a8eef", press2="#2a7edf"
        ))
        self.summary_manager_btn.clicked.connect(self.open_summary_manager)
        self.summary_manager_btn.setCursor(Qt.PointingHandCursor)
        
        # æ·»åŠ åˆ°å·¥å…·æ ï¼Œä½¿ç”¨åˆ†éš”ç¬¦åˆ†ç»„
        if hasattr(self, 'toolBar'):
            self.toolBar.addSeparator()  # åˆ†éš”ç¬¦
            
            # æ™ºèƒ½æ‘˜è¦ç»„
            self.toolBar.addWidget(self.hearsight_btn)
            self.toolBar.addWidget(self.hearsight_config_btn)
            self.toolBar.addWidget(self.summary_manager_btn)
            
            # æ·»åŠ é—´è·
            spacer = QWidget()
            spacer.setFixedWidth(20)
            self.toolBar.addWidget(spacer)
    
    except Exception as e:
        print(f"æ·»åŠ HearSightæŒ‰é’®å¤±è´¥: {e}")
```

---

## ğŸ“Š å¯¹æ¯”æ€»ç»“

| ç‰¹æ€§ | æ–¹æ¡ˆ1: å‚ç›´ä¾§è¾¹æ  | æ–¹æ¡ˆ2: ä¼˜åŒ–å·¥å…·æ  |
|------|------------------|------------------|
| **å®ç°éš¾åº¦** | ä¸­ç­‰ï¼ˆéœ€è¦é‡æ„å¸ƒå±€ï¼‰ | ç®€å•ï¼ˆä¿®æ”¹ç°æœ‰ä»£ç ï¼‰ |
| **è§†è§‰æ•ˆæœ** | â­â­â­â­â­ ç°ä»£åŒ– | â­â­â­ ä¼ ç»Ÿ |
| **ç©ºé—´åˆ©ç”¨** | å ç”¨å·¦ä¾§å›ºå®šå®½åº¦ | å ç”¨é¡¶éƒ¨ç©ºé—´ |
| **åŠŸèƒ½åˆ†ç»„** | â­â­â­â­â­ æ¸…æ™° | â­â­â­ ä¸€èˆ¬ |
| **æ‰©å±•æ€§** | â­â­â­â­â­ æ˜“æ‰©å±• | â­â­â­ æœ‰é™ |
| **ç”¨æˆ·ä¹ æƒ¯** | éœ€è¦é€‚åº” | ç¬¦åˆç°æœ‰ä¹ æƒ¯ |

---

## ğŸ¯ æ¨èå®æ–½æ­¥éª¤

### çŸ­æœŸï¼ˆç«‹å³å®æ–½ï¼‰- æ–¹æ¡ˆ2

1. âœ… ä¼˜åŒ–å½“å‰å·¥å…·æ æŒ‰é’®æ ·å¼
2. âœ… ç»Ÿä¸€æŒ‰é’®å°ºå¯¸å’Œé—´è·
3. âœ… æ·»åŠ åˆ†éš”ç¬¦å’Œåˆ†ç»„
4. âœ… ä¼˜åŒ–tooltipæç¤º

### ä¸­æœŸï¼ˆå¯é€‰ï¼‰- æ–¹æ¡ˆ1

1. åˆ›å»ºä¾§è¾¹æ ç»„ä»¶
2. é›†æˆåˆ°ä¸»çª—å£
3. æ·»åŠ é…ç½®é€‰é¡¹ï¼ˆå…è®¸ç”¨æˆ·åˆ‡æ¢ï¼‰
4. æµ‹è¯•å’Œä¼˜åŒ–

---

## ğŸ“ å¯åŠ¨å›¾è‡ªå®šä¹‰å»ºè®®

### è®¾è®¡è¦ç‚¹

1. **å“ç‰Œå…ƒç´ **:
   - åº”ç”¨Logo
   - åº”ç”¨åç§°
   - ç‰ˆæœ¬å·

2. **è§†è§‰é£æ ¼**:
   - æ·±è‰²èƒŒæ™¯ï¼ˆä¸ä¸»ç•Œé¢ä¸€è‡´ï¼‰
   - ç®€æ´çš„å›¾æ ‡æˆ–æ’ç”»
   - æ¸…æ™°çš„æ–‡å­—

3. **æŠ€æœ¯è¦æ±‚**:
   - å°ºå¯¸: 560x350 æˆ– 16:9 æ¯”ä¾‹
   - æ ¼å¼: PNGï¼ˆæ”¯æŒé€æ˜ï¼‰
   - æ–‡ä»¶å¤§å°: < 500KB

### ç¤ºä¾‹è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚         [åº”ç”¨Logoå›¾æ ‡]           â”‚
â”‚                                 â”‚
â”‚      BDvideoTrans v3.0         â”‚
â”‚                                 â”‚
â”‚         Loading...              â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— ç›¸å…³æ–‡ä»¶

- å¯åŠ¨å›¾: `videotrans/styles/logo.png`
- å¯åŠ¨ä»£ç : `sp.py` (ç¬¬30-61è¡Œ)
- ä¸»çª—å£: `videotrans/mainwin/_main_win.py`
- å·¥å…·æ åˆå§‹åŒ–: `_init_hearsight()` æ–¹æ³• (ç¬¬803-901è¡Œ)
- æ ·å¼æ–‡ä»¶: `videotrans/styles/style.qss`

---

éœ€è¦æˆ‘å¸®æ‚¨å®ç°å“ªä¸ªæ–¹æ¡ˆï¼Ÿæˆ–è€…æ‚¨æœ‰å…¶ä»–çš„ä¼˜åŒ–æƒ³æ³•ï¼Ÿ

